<section class="ingredients section">
  <h2 class="section__title">ingredients</h2>
  <div class="ingredients__menu">
    <app-ingredients-sort
      (sortValue)="sortHeandler($event)"
      (sortDirection)="sortDirectionHeandler($event)">

    </app-ingredients-sort>
    <app-ingredients-search (searchValue)="searchHeandler($event)"></app-ingredients-search>
    <button mat-fab aria-label="Add new ingredient" (click)="openDialog()">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <mat-chip-list selectable multiple>
    <mat-chip
      *ngFor="let item of ingredientsTypes"
      #c="matChip"
      (click)="sortToType(item.name, c)"
      [value]="item"
      color="accent"
    >
      <mat-icon *ngIf="c.selected">check</mat-icon>
      {{item.name}}

    </mat-chip>
  </mat-chip-list>
  <div *ngIf="!isLoading;else loadingBlock">
    <app-ingredients-list
      [ingredients]="ingredientsList"
      (deleteCard)="deleteCardHandler($event)"
      (editCard)="editCardHandler($event)"
      [search]="search"
      [sort]="sort"
      [sortDirection]="sortDirection"
    ></app-ingredients-list>
  </div>
  <ng-template #loadingBlock>
    <mat-spinner color="accent"></mat-spinner>
  </ng-template>
</section>

